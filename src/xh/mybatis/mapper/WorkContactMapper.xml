<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="xh.mybatis.mapper.WorkContactMapper">
	<select id="list" resultType="xh.mybatis.bean.WorkContactBean"
		parameterType="map">
		select a.*,b.userName from xhgmnet_operations_workcontact as  a
		left join xhgmnet_web_user as b on a.addUser=b.user
		 where 1=1
		order by a.time desc
		limit #{start},#{limit}
	</select>
	<select id="list_count" resultType="int">
		select count(*) from xhgmnet_operations_workcontact
	</select>
	<insert id="add" parameterType="xh.mybatis.bean.WorkContactBean">
	insert into xhgmnet_operations_workcontact(taskId,reason,type,sendUnit,recvUnit,copyUnit,time,code,
	content,addUser,user_type)values(#{taskId},#{reason},#{type},#{sendUnit},#{recvUnit},#{copyUnit},#{time},
	#{code},#{content},#{addUser},#{user_type})
	</insert>
	<update id="sign" parameterType="xh.mybatis.bean.WorkContactBean">
	update xhgmnet_operations_workcontact set status=1,checkTime=#{checkTime},checkUser=#{checkUser}
	where taskId=#{taskId}
	</update>

</mapper>
