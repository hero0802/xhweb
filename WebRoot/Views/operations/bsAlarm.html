<!DOCTYPE html>
<html>
<head>
<title>Tetra系统警告</title>
<meta name="keywords" content="keyword1,keyword2,keyword3">
<meta name="description" content="this is my page">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1" />
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<script type="text/javascript"
	src="../../Resources/js/xhbootstrap-css.js"></script>
<!--[if lte IE 9]>
<script src="../../Resources/js/jquery-1.8.3.min.js"></script>
<script src="../../Resources/js/respond.min.js"></script>
<script src="../../Resources/js/html5shiv.js"></script>
<![endif]-->
<style type="text/css">
.search input {
	float: left;
}
.order-table td{
padding:0;
}
.order-form{
 width:100%;
 line-height:100%;
 border:0;
 padding:6px;
 /* line-height:100%; */
}
.order-form:FOCUS {
	border:0;
}
.textarea-div{
 width: 100%;
    height: 60px;
    margin-left: auto;
    margin-right: auto;
    padding: 3px;
    outline: 0;
    border: 0px solid #a0b3d6;
    font-size: 12px;
    word-wrap: break-word;
    overflow-x: hidden;
    overflow-y: auto;
 
    /* border-color: rgba(82, 168, 236, 0.8); */
    /* box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6); */
}
.input-div{
 width: 100%;
    height: 30px;
    margin-left: auto;
    margin-right: auto;
    padding: 3px;
    outline: 0;
    border: 0px solid #a0b3d6;
    font-size: 12px;
    word-wrap: break-word;
    overflow-x: hidden;
    overflow-y: auto;
 
    /* border-color: rgba(82, 168, 236, 0.8); */
    /* box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6); */
}
/* CSS部分 */
#type-ul { list-style:none; margin:0; padding:0; text-align:center; background:#fafafa; color:#000; -webkit-transform:scaleY(0); -webkit-transform-origin:0 0; }
#type-ul li { padding:0; margin:0; }
.type-div { width:100px; }
.type-div ul li{
cursor: pointer;
padding:3px;
border:1px solid #ccc;
}
.type-div:hover ul { -webkit-animation:ulShow 0.4s; -webkit-animation-fill-mode:forwards; -webkit-animation-timing-function: cubic-bezier(0,0.8,0.9,1); }
type-div { height:30px; line-height:30px; text-align:center; /* background-color:#FC0; */ }
@-webkit-keyframes ulShow {
    from { -webkit-transform:scaleY(0); }
    to { -webkit-transform:scaleY(1); }
}
#level-ul { list-style:none; margin:0; padding:0; text-align:center; background:#fafafa; color:#000; -webkit-transform:scaleY(0); -webkit-transform-origin:0 0; }
#level-ul li { padding:0; margin:0; }
.level-div { width:100px; }
.level-div ul li{
cursor: pointer;
padding:3px;
border:1px solid #ccc;
}
.level-div:hover ul { -webkit-animation:ulShow 0.4s; -webkit-animation-fill-mode:forwards; -webkit-animation-timing-function: cubic-bezier(0,0.8,0.9,1); }
level-div { height:30px; line-height:30px; text-align:center; /* background-color:#FC0; */ }
@-webkit-keyframes ulShow {
    from { -webkit-transform:scaleY(0); }
    to { -webkit-transform:scaleY(1); }
}
/* .modal-backdrop {
  opacity: 0 !important;
  filter: alpha(opacity=0) !important;
} */
</style>
</head>
<body ng-app="app" ng-controller="bsAlarm" class="fixed-iframe">
	<!-- splash screen-->
	<div class="splash">
		<div class="splash-title">
			<h1>系统正在努力加载中，请耐心等待</h1>
			<div class="spinner">
				<div class="rect1"></div>
				<div class="rect2"></div>
				<div class="rect3"></div>
				<div class="rect4"></div>
				<div class="rect5"></div>
			</div>
		</div>
	</div>
	<!-- 中间内容体 -->
	<div id="wrapper">
		<div class="small-header transition animated fadeIn">
			<div class="title-panel">
				<div class="panel-body">
					<div id="hbreadcrumb" class="pull-left">
						<ol class="hbreadcrumb breadcrumb">
							<li><span>当前位置：</span></li>
							<li><span>运维管理</span></li>
							<li><span>实时监测</span></li>
							<li><span>故障管理</span></li>
							<li class="active"><span>Tetra系统警告</span></li>
						</ol>
					</div>
				</div>
			</div>
		</div>
		<div class="content animate-panel">
			<div class="row">
				<div class="col-md-12">
					<div class="hpanel">
						<div class="panel-heading hbuilt">
							<!-- <div class="panel-tools">
								<a class="showhide"><i class="fa fa-chevron-up"></i></a> <a
									class="closebox"><i class="fa fa-times"></i></a>
							</div> -->
							<i class="fa fa-reorder"></i> 菜单列表
						</div>
						<div class="panel-body">

							<div class="content-menu">

								<span class="menu_active"><a href="bsAlarm.html"
									target="_self">Tetra系统告警</a></span> <span><a
									href="emhAlarm.html" target="_self">环控告警</a></span>

							</div>


							<!-- <ul class="mailbox-list" style="height:200px;">
								<li style="margin-bottom:10px;"><a href="emhAlarm.html"
									target="_self"><i
										class="fa fa-sitemap text-success"></i>环控告警</a></li>

								<li class="active"><a href="bsAlarm.html" target="_self"><i
										class="fa fa-sitemap text-success"></i>Tetra系统告警</a></li>

							</ul> -->
						</div>

					</div>
				</div>
				<div class="col-md-12">
					<div class="row" ng-show="true">
						<div class="col-md-4">
							<div class="hpanel">
								<div class="panel-heading hbuilt">
									<i class="fa fa-bar-chart text-danger"></i>&nbsp;<span>故障等级统计</span>
								</div>
								<div class="panel-body" ng-model="alarmTypeData">
									<div id="bs-pie"></div>
									<!-- <div style="width:100%">
									<div class="bg-red" style="padding:7px;border-bottom:1px solid gray;margin-top:5px;">
									<span>严重告警</span>
									<span class="pull-right" style="color:#fff;">【{{alarmTypeData.v_1}}】次</span>
									</div>
									<div class="bg-salmon" style="padding:7px;border-bottom:1px solid gray;margin-top:20px;">
									<span>重要告警</span>
									<span class="pull-right" style="color:#fff;">【{{alarmTypeData.v_2}}】次</span>
									</div>
									<div class="bg-gold" style="padding:7px;border-bottom:1px solid gray;margin-top:20px;">
									<span>一般告警</span>
									<span class="pull-right" style="color:#green;">【{{alarmTypeData.v_3}}】次</span>
									</div>
									</div> -->
								</div>
							</div>
						</div>
						<div class="col-md-8">
							<div class="hpanel">
								<div class="panel-heading hbuilt">
									<i class="fa fa-bar-chart text-danger"></i>&nbsp;<span>Tera系统[基站，交换中心，网管，调度台]告警统计</span>
								</div>
								<div class="panel-body">
									<div id="bs-bar"></div>
								</div>
							</div>
						</div>

					</div>

					<div class="row">
						<div class="col-md-12">

							<div class="hpanel">
								<div class="panel-heading hbuilt">
									<div class="panel-tools">
										<a ng-click="showSearchWin()"> <i
											class="fa fa-hourglass-end text-danger"></i>&nbsp;<span
											class="text-black">筛选查询</span>
											
										</a>
										<a ng-click="showOrderWin()"> <i
											class="fa fa-hourglass-end text-danger"></i>&nbsp;<span
											class="text-black">派单</span>
											
										</a>
									</div>
									<!-- <i class="fa fa-filter text-danger"></i>&nbsp; -->
									<span>告警信息</span>
								</div>
								<div class="panel-body">
									<table id="tb-info" class="xh-table table-hover">
										<thead>
											<tr class="tr-gray">

												<!-- <th width="100px">网元类型</th> -->
												<th>网元类型</th>

												<th>告警级别</th>
												<th>故障定位</th>
												<th>告警描述</th>
												<th width="150px">告警时间</th>




												<!-- <th>操作</th> -->
											</tr>
										</thead>
										<tbody>
											<tr ng-if="totals==0">
												<td colspan="6" class="text-center">没有记录！</td>
											</tr>
											<tr ng-repeat="x in data">
												<!-- <td>{{$index+1}}</td> -->
												<td><span ng-if="x.neType==1">基站</span> <span
													ng-if="x.neType==2">交换中心</span> <span ng-if="x.neType==3">调度台</span>
													<span ng-if="x.neType==4">网管</span> <span
													ng-if="x.neType==5">分组中心</span> <span ng-if="x.neType==6">综合业务网关</span>
													<span ng-if="x.neType==7">INIGW</span> <span
													ng-if="x.neType==8">短信中心</span> <span ng-if="x.neType==9">PDT</span>
													<span ng-if="x.neType==10">鉴权中心</span> <span
													ng-if="x.neType==11">录音</span> <span ng-if="x.neType==12">模拟网关</span>
													<span ng-if="x.neType==13">MPT基站</span> <span
													ng-if="x.neType==14">NTP服务器</span> <span
													ng-if="x.neType==15">路由器</span> <span ng-if="x.neType==16">数字交叉连接设备</span>
													<span ng-if="x.neType==17">同播服务器</span> <span
													ng-if="x.neType==18">DSGW</span> <span ng-if="x.neType==19">以太网交换机</span>
													<span ng-if="x.neType==20">WEB调度服务器</span> <span
													ng-if="x.neType==21">短信业务网关</span> <span
													ng-if="x.neType==22">室外基站</span> <span ng-if="x.neType==23">PDT室外基站</span>
													<span ng-if="x.neType==24">桥接基站</span> <span
													ng-if="x.neType==29">以太网E1网桥</span> <span
													ng-if="x.neType==30">桥接中心</span> <span ng-if="x.neType==32">媒体服务器</span>
												</td>
												<!-- <td>{{x.neId}}</td> -->

												<!-- <td><span ng-if="x.severity==1" class="block bg-red">严重告警</span>
													<span ng-if="x.severity==2" class="block bg-salmon">主要告警</span>
													<span ng-if="x.severity==3" class="block bg-gold">一般告警</span>
												</td> -->
												<td ng-if="x.severity==1" class="block" style="background:red;color:#fff;">紧急告警</td>
													<td ng-if="x.severity==2" class="block" style="background:#B22222;color:#fff;">主要告警</td>
													<td ng-if="x.severity==3" class="block" style="background:#FF8C00;color:#fff;">次要告警</td>
													<td ng-if="x.severity==3" class="block" style="background:#EEEE00;color:#fff;">一般告警</td>

												<td>{{x.location |alarmLocation}}</td>
												<td>{{x.description}}</td>
												<td>{{x.time}}</td>



												<!-- <td><a href="#" ng-click="showDetails($index)"><i
														class="fa fa-file-text-o text-success"> </i>&nbsp;详情</a></td> -->
											</tr>
										</tbody>
									</table>
									<div class="page">
										<div class="page-info">
											每页显示 <select id="page-limit" ng-change="refresh()"
												ng-model="count">
												<option value="15">15</option>
												<option value="20">20</option>
												<option value="30">30</option>
												<option value="40">40</option>
												<option value="50">50</option>
											</select> 条, <span ng-model="index">显示{{start}}-</span><span
												ng-model="lastIndex">{{lastIndex}}条,</span> <span
												ng-model="totals">总计{{totals}}条</span>
										</div>
										<div class="page-paging"></div>
									</div>
								</div>
							</div>
						</div>


					</div>

				</div>
			</div>
		</div>
		<!-- row/ -->
	</div>
	<!-- 中间内容体 /-->
	<div class="scroll-top text-info animated fadeIn scroll-top-hide">
		<i class="fa fa-chevron-circle-up fa-3x"></i>
	</div>
	<div ng-include="'bsAlarm-order.html'"></div>
	<!-- 告警详情 -->
	<!-- <div ng-include="'bsAlarm-show.html'"></div> -->


	<!-- 告警查询 -->
	<div class="modal fade" id="search" tabindex="-1" role="dialog"
		aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header ">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<small class="font-bold">数据筛选</small>
				</div>
				<div class="modal-body pad-0" style="margin:2px;padding:2px;">
					<div class="row">
						

						<div class="col-md-12">
							<div class="form-group col-md-12 search" style="margin-top:10px;">
								<label>严重程度</label> &nbsp;&nbsp;&nbsp;&nbsp; <input
									id="level1" class="magic-checkbox" type="checkbox" name="level"
									value="1" checked> <label for="level1"><span>紧急告警</span></label>

								<input id="level2" class="magic-checkbox" type="checkbox"
									name="level" value="2" checked> <label for="level2"><span>主要告警</span></label>

								<input id="level3" class="magic-checkbox" type="checkbox"
									name="level" value="3" checked> <label for="level3"><span>次要告警</span></label>
								
								<input id="level4" class="magic-checkbox" type="checkbox"
									name="level" value="4" checked> <label for="level4"><span>一般告警</span></label>
							</div>

						</div>
						<div class="col-md-12">
							<div class="form-group col-md-12 search" style="margin-top:5px;">
								<label>网元类型</label> &nbsp;&nbsp;&nbsp;&nbsp; <input id="type1"
									class="magic-checkbox" type="checkbox" name="type" value="1"
									checked> <label for="type1"><span>基站</span></label> <input
									id="type2" class="magic-checkbox" type="checkbox" name="type"
									value="2" checked> <label for="type2"><span>交换中心</span></label>

								<input id="type3" class="magic-checkbox" type="checkbox"
									name="type" value="3" checked> <label for="type3"><span>调度台</span></label>

								<input id="type4" class="magic-checkbox" type="checkbox"
									name="type" value="4" checked> <label for="type4"><span>网管</span></label>
							</div>

						</div>
						<!-- col-md -->
						<div class="col-md-6">
							<div class="form-group col-md-12">
								<label>开始时间</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="startTime"
									required="required"
									onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})">
							</div>
						</div>
						<!-- col-md -->
						<div class="col-md-6">
							<div class="form-group col-md-12">
								<label>结束时间</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="endTime"
									required="required"
									onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})">
							</div>
						</div>
					</div>
					<!-- row -->
				</div>
				<!-- <div class="modal-footer">
					
				</div> -->
			</div>
		</div>
	</div>
	<!-- /告警查询 -->
	<script type="text/javascript"
		src="../../Resources/js/xhbootstrap-js.js"></script>
	<script type="text/javascript"
		src="../../lib/metisMenu/dist/metisMenu.min.js"></script>
	<script type="text/javascript" src="../../lib/echarts/echarts.js"></script>
	<script type="text/javascript"
		src="../../Controllers/operations/bsAlarm.js"></script>
	<script type="text/javascript">
		xh.load();
	</script>
</body>
</html>
