<!DOCTYPE html>
<html>
<head>
<title>基站闪断</title>
<meta name="keywords" content="keyword1,keyword2,keyword3">
<meta name="description" content="this is my page">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1" />
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<script type="text/javascript"
	src="../../Resources/js/xhbootstrap-css.js"></script>
<!--[if lte IE 9]>
<script src="../../Resources/js/jquery-1.8.3.min.js"></script>
<script src="../../Resources/js/respond.min.js"></script>
<script src="../../Resources/js/html5shiv.js"></script>
<![endif]-->
<style type="text/css">
.search input {
	float: left;
}
.order-table td{
padding:0;
}
.order-form{
 width:100%;
 line-height:100%;
 border:0;
 padding:6px;
 /* line-height:100%; */
}
.order-form:FOCUS {
	border:0;
}
.textarea-div{
 width: 100%;
    height: 60px;
    margin-left: auto;
    margin-right: auto;
    padding: 3px;
    outline: 0;
    border: 0px solid #a0b3d6;
    font-size: 12px;
    word-wrap: break-word;
    overflow-x: hidden;
    overflow-y: auto;
 
    /* border-color: rgba(82, 168, 236, 0.8); */
    /* box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6); */
}
.input-div{
 width: 100%;
    height: 30px;
    margin-left: auto;
    margin-right: auto;
    padding: 3px;
    outline: 0;
    border: 0px solid #a0b3d6;
    font-size: 12px;
    word-wrap: break-word;
    overflow-x: hidden;
    overflow-y: auto;
 
    /* border-color: rgba(82, 168, 236, 0.8); */
    /* box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6); */
}
/* CSS部分 */
#type-ul { list-style:none; margin:0; padding:0; text-align:center; background:#fafafa; color:#000; -webkit-transform:scaleY(0); -webkit-transform-origin:0 0; }
#type-ul li { padding:0; margin:0; }
.type-div { width:100px; }
.type-div ul li{
cursor: pointer;
padding:3px;
border:1px solid #ccc;
}
.type-div:hover ul { -webkit-animation:ulShow 0.4s; -webkit-animation-fill-mode:forwards; -webkit-animation-timing-function: cubic-bezier(0,0.8,0.9,1); }
type-div { height:30px; line-height:30px; text-align:center; /* background-color:#FC0; */ }
@-webkit-keyframes ulShow {
    from { -webkit-transform:scaleY(0); }
    to { -webkit-transform:scaleY(1); }
}
#level-ul { list-style:none; margin:0; padding:0; text-align:center; background:#fafafa; color:#000; -webkit-transform:scaleY(0); -webkit-transform-origin:0 0; }
#level-ul li { padding:0; margin:0; }
.level-div { width:100px; }
.level-div ul li{
cursor: pointer;
padding:3px;
border:1px solid #ccc;
}
.level-div:hover ul { -webkit-animation:ulShow 0.4s; -webkit-animation-fill-mode:forwards; -webkit-animation-timing-function: cubic-bezier(0,0.8,0.9,1); }
level-div { height:30px; line-height:30px; text-align:center; /* background-color:#FC0; */ }
@-webkit-keyframes ulShow {
    from { -webkit-transform:scaleY(0); }
    to { -webkit-transform:scaleY(1); }
}

.slDiv{float:left;margin-top:5px;position:relative;}  
.slDiv #btnSelect{min-width:125px;display:inline-block;text-indent:10px;}  
.slDiv .ulDiv{display:none;width:125px;border:1px solid #EEEEEE;border-radius:1px;background:#FFF;margin-top:9px;position:absolute;z-index:100;}  
.slDiv .ulDiv.ulShow{display:block;}  
.slDiv .ulDiv ul li{text-indent:10px;cursor:pointer;}  
.slDiv .ulDiv ul li:hover{background:#cbebf6;} 

.slDiv .ulDiv ul,.slDiv .ulDiv li{margin:5px 0px;padding:0px;}  

/* .modal-backdrop {
  opacity: 0 !important;
  filter: alpha(opacity=0) !important;
} */
</style>
</head>
<body ng-app="app" ng-controller="bsAlarm" class="fixed-iframe">
	<!-- splash screen-->
	<div class="splash">
		<div class="splash-title">
			<h1>系统正在努力加载中，请耐心等待</h1>
			<div class="spinner">
				<div class="rect1"></div>
				<div class="rect2"></div>
				<div class="rect3"></div>
				<div class="rect4"></div>
				<div class="rect5"></div>
			</div>
		</div>
	</div>
	<!-- 中间内容体 -->
	<div id="wrapper">
		<div class="small-header transition animated fadeIn">
			<div class="title-panel">
				<div class="panel-body">
					<div id="hbreadcrumb" class="pull-left">
						<ol class="hbreadcrumb breadcrumb">
							<li><span>当前位置：</span></li>
							<li><span>运维管理</span></li>
							<li><span><a href="../menu/menu_monitor.html"
									target="_self">系统监控</a></span></li>
							<li class="active"><span>基站闪断</span></li>
						</ol>
					</div>
				</div>
			</div>
		</div>
		<div class="content animate-panel">
			<div class="row">
				<div class="col-md-12">
					<!-- <div class="row" ng-show="true">
						<div class="col-md-4">
							<div class="hpanel">
								<div class="panel-heading hbuilt">
									<i class="fa fa-bar-chart text-danger"></i>&nbsp;<span>故障等级统计</span>
								</div>
								<div class="panel-body" ng-model="alarmTypeData">
									<div id="bs-pie"></div>
									
								</div>
							</div>
						</div>
						<div class="col-md-8">
							<div class="hpanel">
								<div class="panel-heading hbuilt">
									<i class="fa fa-bar-chart text-danger"></i>&nbsp;<span>Tera系统[基站，交换中心，网管，调度台]告警统计</span>
								</div>
								<div class="panel-body">
									<div id="bs-bar"></div>
								</div>
							</div>
						</div>

					</div> -->

					<div class="row">
						<div class="col-md-12">

							<div class="hpanel">
								<div class="panel-heading hbuilt">
									<div class="panel-tools">
										<a ng-click="showSearchWin()"> <i
											class="fa fa-hourglass-end text-black"></i>&nbsp;<span
											class="text-black">筛选查询</span>
											
										</a>
										<a data-toggle="modal" data-target="#excel"> <i
											class="fa fa-file-excel-o text-black"></i>&nbsp;<span
											class="text-black">导出数据</span>
											
										</a>
										<!-- <a ng-click="showOrderWin()"> <i
											class="fa fa-hourglass-end text-danger"></i>&nbsp;<span
											class="text-black">派单</span>
											
										</a> -->
									</div>
									<!-- <i class="fa fa-filter text-danger"></i>&nbsp; -->
									<span>基站闪断列表[默认显示当天的数据]</span>
								</div>
								<div class="panel-body">
									<table id="tb-info" class="xh-table table-hover">
										<thead>
											<tr class="tr-gray">
												<th>基站</th>

												<th>断站时间</th>
												<th>恢复时间</th>
												<th>历时</th>
												<th>描述</th>
												<th>闪断原因</th>

											</tr>
										</thead>
										<tbody>
											<tr ng-if="totals==0">
												<td colspan="6" class="text-center">没有记录！</td>
											</tr>
											<tr ng-repeat="x in data">
												<td>{{x.bsId}}-{{x.name}}</td>
												<td>{{x.time_break}}</td>
												<td>{{x.time_restore}}</td>
										
												<td>{{x.sumtime}}</td>
												<td>基站闪断</td>
												<td>
												<span ng-if="x.period==4 && x.emsTime_break!=null">传输链路中断</span>
												<span ng-if="x.period==4 && x.emsTime_break==null">传输链路正常，请检查基站设备</span>
												<span ng-if="x.period==3">三期基站，原因待确认</span>
												</td>
											</tr>
										</tbody>
									</table>
									<div class="page">
										<div class="page-info">
											每页显示 <select id="page-limit" ng-change="refresh()"
												ng-model="count">
												<option value="15">15</option>
												<option value="20">20</option>
												<option value="30">30</option>
												<option value="40">40</option>
												<option value="50">50</option>
											</select> 条, <span ng-model="index">显示{{start}}-</span><span
												ng-model="lastIndex">{{lastIndex}}条,</span> <span
												ng-model="totals">总计{{totals}}条</span>
										</div>
										<div class="page-paging"></div>
									</div>
								</div>
							</div>
						</div>


					</div>

				</div>
			</div>
		</div>
		<!-- row/ -->
	</div>
	<!-- 中间内容体 /-->
	<div class="scroll-top text-info animated fadeIn scroll-top-hide">
		<i class="fa fa-chevron-circle-up fa-3x"></i>
	</div>
	<div ng-include="'bsAlarm-order.html'"></div>
	<!-- 告警详情 -->
	<!-- <div ng-include="'bsAlarm-show.html'"></div> -->


	<!-- 告警查询 -->
	<div class="modal fade" id="search" tabindex="-1" role="dialog"
		aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-header ">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<small class="font-bold">数据筛选</small>
				</div>
				<div class="modal-body pad-0" style="margin:2px;padding:2px;">
					<div class="row">
						

						<div class="col-md-12">
							<div class="form-group col-md-12 search" style="margin-top:10px;">
								<label>基站ID</label> &nbsp;&nbsp;&nbsp;&nbsp; <input
									id="bsId" class="form-control" type="text" name="bsId">
							</div>

						</div>
					
						<!-- col-md -->
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>开始时间</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="startTime"
									required="required"
									onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" ng-model="oneDate">
							</div>
						</div>
						<!-- col-md -->
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>结束时间</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="endTime"
									required="required"
									onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" ng-model="nowDate">
							</div>
						</div>
					</div>
					<!-- row -->
				</div>
				<div class="modal-footer">
					<button type="button"
					class="btn btn-success btn-sm" ng-click=search_btn()>
					<i class="fa fa-search"></i>&nbsp;查询
				</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="excel" tabindex="-1" role="dialog"
		aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-header ">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<small class="font-bold">数据筛选</small>
				</div>
				<div class="modal-body pad-0" style="margin:2px;padding:2px;">
					<div class="row">
					
					
						<!-- col-md -->
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>开始时间</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="startTime"
									required="required"
									onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" ng-model="oneDate">
							</div>
						</div>
						<!-- col-md -->
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>结束时间</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="endTime"
									required="required"
									onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" ng-model="nowDate">
							</div>
						</div>
					</div>
					<!-- row -->
				</div>
				<div class="modal-footer">
					<button type="button"
					class="btn btn-success btn-sm" onclick="xh.excel()">
					<i class="fa fa-file-excel-o"></i>&nbsp;导出
				</button>
				</div>
			</div>
		</div>
	</div>
	<!-- /告警查询 -->
	<script type="text/javascript"
		src="../../Resources/js/xhbootstrap-js.js"></script>
	<script type="text/javascript"
		src="../../Controllers/operations/bsFlash.js"></script>
	<script type="text/javascript">
		xh.load();
	</script>
</body>
</html>
