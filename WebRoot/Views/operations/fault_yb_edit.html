
<div class="modal fade" id="editWin" tabindex="-1" role="dialog"
	aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header ">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">&times;</button>
				<small class="font-bold">一般故障记录</small>
			</div>
			<div class="modal-body pad-0" style="margin: 2px; padding: 2px;">
				<form action="#" onsubmit="return false" id="editForm">
					<div class="row">
						<input type="text" ng-show=false name="id" ng-model="editData.id">
					</div>
					<div class="row">
						<div class="form-group col-md-3">
							<label>建设期</label> <input class="form-control" name="period"
								readonly="readonly" ng-model="editData.period">
						</div>
						<div class="form-group col-md-3">
							<label>ID</label> <input class="form-control" name="bsId"
								readonly="readonly" ng-model="editData.bsId">
						</div>
						<div class="form-group col-md-3">
							<label>基站名称</label> <input class="form-control" name="name"
								readonly="readonly" ng-model="editData.name">
						</div>
						<div class="form-group col-md-3">
							<label>基站分级</label> <input class="form-control" name="level"
								readonly="readonly" ng-model="editData.level">
						</div>
						<div class="form-group col-md-4">
							<label>故障时间</label> <input type="text" class="form-control"
								name="time"
								onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss',onpicked:xh.validatorTime('editForm','time')})"
								required="required" ng-model="editData.time">
						</div>
						<div class="form-group col-md-4">
							<label>故障恢复时间</label> <input type="text" class="form-control"
								name="faultRecoveryTime"
								onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})"
								ng-model="editData.faultRecoveryTime">
						</div>
						<div class="form-group col-md-4">
							<label>故障类型</label> <select name="faultType" class="form-control"
								ng-model="editData.faultType">
								<option value="传输故障">传输故障</option>
								<option value="电源问题">电源问题</option>
								<option value="网络优化">网络优化</option>
								<option value="设备故障">设备故障</option>
								<option value="机房配套">机房配套</option>
								<option value="其他">其他</option>
							</select>
						</div>
						<div class="form-group col-md-12">
							<label>故障原因</label>
							<textarea class="form-control" name="reason" 
								rows="3" ng-model="editData.reason"></textarea>
						</div>
						<div class="form-group col-md-12">
                            <label>备注</label>
                            <textarea class="form-control" name="content" rows="3"
                                ng-model="editData.content"></textarea>
                        </div>
                        <div class="form-group col-md-3">
                            <label>故障来源</label> <select name="fault_from" class="form-control"
                                ng-model="editData.fault_from">
                                <option value="网管">网管</option>
                                <option value="其他">其他</option>
                            </select>
                        </div>
						<div class="form-group col-md-3">
							<label>故障历时(分钟)</label> <input class="form-control"
								name="faultTimeTotal" type="number"
								ng-model="editData.faultTimeTotal">
						</div>

						
						<div class="form-group col-md-3">
							<label>故障处理人员</label> <input class="form-control"
								name="faultHandlePerson" ng-model="editData.faultHandlePerson">
						</div>
						<div class="form-group col-md-3">
							<label>故障记录人员</label> <input class="form-control"
								name="faultRecordPerson" 
								ng-model="editData.faultRecordPerson">
						</div>

					</div>
				</form>
			</div>
			<div class="modal-footer">
				<div class="btn-group">
					<button type="button" class="btn btn-danger btn-sm"
						data-dismiss="modal">
						<i class="fa fa-remove"></i>&nbsp;关闭
					</button>
					<button type="button" class="btn btn-success btn-sm" id="edit_btn">
						<i class="fa fa-edit"></i>&nbsp;更新
					</button>
				</div>
			</div>

		</div>
	</div>
</div>
<script type="text/javascript">
	$("#edit_btn").click(function() {
		$('#editForm').submit();
	});
	var faIcon = {
		valid : 'fa fa-check-circle fa-lg text-success',
		invalid : 'fa fa-times-circle fa-lg',
		validating : 'fa fa-refresh'
	};
	$('#editForm').bootstrapValidator({
		excluded : [ ':disabled' ],
		feedbackIcons : faIcon,
		fields : {

		}
	}).on('success.form.bv', function(e, data) {
		e.preventDefault();
		xh.edit();
	});
</script>
